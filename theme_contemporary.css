/* --- Core Theme Preservation --- */
@font-face {
  font-family: 'Noto Sans TC';
  src: url('./fonts/noto-sans-tc-v10-latin_chinese-traditional-regular.woff2') format('woff2');
}
@font-face {
  font-family: 'Noto Sans SC';
  src: url('./fonts/noto-sans-sc-v11-latin_chinese-simplified-regular.woff2') format('woff2');
}

/* Placeholder for Tableau Fonts (Fallback to Arial/Sans-Serif) */
/* Note: Ensure these fonts are actually loaded in your environment */
@font-face {
  font-family: 'Tableau Book';
  src: local('Arial');
}
@font-face {
  font-family: 'Tableau Medium';
  src: local('Arial Bold');
}

/* Root Table Styles */
.reportTable {
  font-family: 'Open Sans', 'Helvetica', 'Arial', sans-serif;
  border: 1px solid #cccccc;
  border-collapse: collapse;
}

/* --- 1. Cell Values (Transposed Data) --- */
/* Targets the measure values in the body of the transposed table */
.reportTable td.transposed:not(.indexCell) {
  font-size: 8px !important;
  font-family: 'Tableau Book', 'Arial', sans-serif !important;
  color: #333333 !important;
}

/* --- 2. Transposed Header (Pivoted Dimension) --- */
/* Targets labels for the dimension that was pivoted before transposition */
.reportTable td.indexCell.transposed.pivot {
  font-size: 8px !important;
  color: #333333 !important;
  font-family: 'Tableau Medium', 'Arial', sans-serif !important;
  text-align: left !important;
  vertical-align: top !important;
}

/* --- 3. Measure Header (Rows) --- */
/* Targets the measure names that now appear as row labels */
.reportTable td.indexCell.transposed.measure,
.reportTable td.indexCell.transposed.calculation {
  font-size: 8px !important;
  color: #666666 !important;
  font-family: 'Tableau Book', 'Arial', sans-serif !important;
  font-weight: normal !important; /* Overrides bold index default */
}

/* --- 4. Column Headers (Date Dimension Values) --- */
/* Targets the dates now appearing at the top of the columns */
table.reportTable th.transposed {
  font-size: 12px !important;
  font-weight: bold !important;
  color: #333333 !important;
  text-align: right !important;
  background-color: transparent !important;
}

/* --- 5. Zebra Theme Background --- */
/* Applies to odd body rows, excluding headers and merged (rowspan) cells */
.reportTable tbody tr:nth-child(odd) td:not(.merged) {
  background-color: #f5f5f5 !important;
}

/* Ensure merged cells remain white to avoid breaking visual grouping */
.indexCell.transposed.merged {
  background-color: #ffffff !important;
}

/* --- Tooltip & Other Existing Styles (Preserved) --- */
#tooltip {
  position: absolute;
  padding: 5px;
  background-color: white;
  border-radius: 4px;
  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
  pointer-events: none;
  font-family: sans-serif;
  font-size: 12px;
  z-index: 2;
}

.hidden { display: none; }
.hover { background-color: #ffffbb; }

table.reportTable th, table.reportTable td {
  padding: 5px;
  border: 1px solid #cccccc;
}

.numeric { text-align: right; }
.negative { color: red !important; }